<core:FragmentDefinition
	xmlns="sap.m"
	xmlns:core="sap.ui.core"
	xmlns:f="sap.ui.layout.form"
	xmlns:mvc="sap.ui.core.mvc">
	
	<Dialog title="{i18n>addAgreement}">
		<content>
			<f:SimpleForm adjustLabelSpan="false" columnsM="1" columnsL="1" columnsXL="1" editable="true" 
				emptySpanXL="0" labelSpanL="2" labelSpanS="2" labelSpanXL="2" layout="ColumnLayout" 
				singleContainerFullSize="false">
				<Label text="{i18n>message}" visible="{= ${control>/partners/agreements/direction} === 'inbound' }" />
				<Select change="onSelect" editable="true"
					items="{
						path: 'control>/partners/agreements/available/inbound'
					}"
					selectedKey="{control>/partners/agreements/newEntry/message}"
					visible="{= ${control>/partners/agreements/direction} === 'inbound' }">
					<items>
						<core:Item text="{control>Message}" />
					</items>
				</Select>
				<Label text="{i18n>message}" visible="{= ${control>/partners/agreements/direction} === 'outbound' }" />
				<Select change="onSelect" editable="true"
					items="{
						path: 'control>/partners/agreements/available/outbound'
					}"
					selectedKey="{control>/partners/available/newEntry/outboundMessage}"
					visible="{= ${control>/partners/agreements/direction} === 'outbound' }">
					<items>
						<core:Item text="{control>Message}" />
					</items>
				</Select>
				<Label text="{i18n>extendedPreProcessing}" />
				<Switch state="{control>/partners/agreements/newEntry/DoExtendedPreProcessing}" 
					type="AcceptReject" visible="{= ${control>/partners/agreements/direction} === 'inbound' }" />
				<Label text="{i18n>extendedPostProcessing}" />
				<Switch state="{control>/partners/agreements/newEntry/DoExtendedPostProcessing}" 
					type="AcceptReject" visible="{= ${control>/partners/agreements/direction} === 'outbound' }" />
				<Label text="{i18n>acknowledgementRequired}" />
				<Switch state="{control>/partners/agreements/newEntry/AcknowledgementRequired}" 
					type="AcceptReject" visible="{= ${control>/partners/agreements/direction} === 'outbound' }" />
				<Label text="{i18n>archive}" />
				<Switch enabled="{control>/partners/agreements/newEntry/canChangeArchive}" 
					state="{control>/partners/agreements/newEntry/ArchiveMessage}" type="AcceptReject"
					visible="{= ${control>/partners/agreements/direction} === 'outbound' }" />
			</f:SimpleForm>
		</content>
		<footer>
			<Toolbar>
				<content>
					<ToolbarSpacer />
					<Button icon="sap-icon://add"  press="onAddAgreement" />
					<Button icon="sap-icon://cancel" press="_closeDialog" />
				</content>
			</Toolbar>
		</footer>
	</Dialog>
</core:FragmentDefinition>